## 文件系统

文件系统结构自上到下为：

#### 用户接口

向上层用户提供功能接口（如read、write、open、close等系统调用）



#### 文件目录系统



#### 存取控制模块



#### 逻辑文件系统与文件信息缓冲区

根据用户提供文件的记录号，转换为逻辑地址



#### 物理文件系统

将上一层的文件逻辑地址转换为实际的物理地址



#### 设备管理程序模块

直接与硬件交互



#### 辅助分配模块

负责文件存储空间的管理，即负责分配和回收存储空间

4.1.9





## 文件控制块（FCB）

目录本身也是一个文件

目录文件中包含了该目录下的所有文件记录

每条记录就是一个**文件控制块**

包含了

- 文件名

- 文件类型（目录、图片等）

- 存储权限（读写）

- 物理位置

  ext....







## 文件目录结构

#### 单机目录结构

一个系统只有一张目录表，不允许文件重名



#### 两级目录结构

不同用户的文件可以重名，但不能对文件进行分类



#### 多级（树形）目录结构

不同目录下的文件可以重名，可以对文件进行分类



#### 无环图目录结构

在树形目录结构的基础上，增加一些指向同一节点的有向边，使整个目录成为一个有向无环图