- 数据页之间是双向链表
- 数据页中的数据行之间是单向链表



- 页目录：主键+槽位。槽对应的是一段数据行
- 全表扫描：一个个数据页加载进BP，然后一行行扫，扫完一页扫下一页，直到查找成功
- 主键查找：根据主键二分查找到槽位；非主键查找：全表扫描



- 索引要求后一个数据页的主键值都大于前一个数据页的主键值，

- 页分裂：保证下一个数据页里的主键值都比上一个数据页的主键值大

  当一页装不下了，弄第二页出来时，若主键是自己设置（非递增）且新增到第二页的记录的主键值小于前一页的主键值，mysql会有一个数据行的挪动过程，保证下一个数据页的主键值都大于上一个数据页的主键值



#### 主键索引

- 主键目录：把每个数据页的页号，还有数据页里最小的主键值放在一起，组成一个索引的目录
- 根据主键值到主键目录二分查找 `这里二分查找不太明白` 找到对应数据页，加载到BP中，再根据页目录对主键进行二分查找定位到某一行
- 索引和数据行一样，都是保存在页里面的
- 索引页：也就是主键目录，将多个索引页组织为一棵B+树
- 最下层的索引页，有数据页的引用，且索引页之间相连，索引页跟数据页之间也相连
- 索引页和数据页共同组成B+树，如果这棵B+树的叶子结点就是数据页本身，那这棵B+树索引就是**聚簇索引**



#### 非主键索引

重新建一棵单独的B+树来保存数据，叶子结点也是数据页，但是数据页只保存了主键和索引字段数据，排序规则跟主键索引相同

找到后需要根据主键到聚簇索引进行回表查询完整的所有字段

看到70