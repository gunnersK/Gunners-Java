## 隔离

#### 信号量隔离

不用维护新的线程池，信号量直接绑定tomcat的worker线程池线程，开销小，性能高

**应用场景**：计算速度快，代码健壮不可能出问题，worker线程需要挂起的时间短（线程hang住时是消耗系统资源的），用信号量

#### 线程池隔离

更灵活，有失败策略，开销大

可以异步请求，解放worker线程阻塞，让worker线程可以干更多事情

若线程池异常不可用，可做到在服务间隔离，不影响其他服务

**应用场景**：计算密集型任务线程设置少一点，IO密集型任务线程设置多一点，充分利用阻塞线程，压榨系统资源



> tomcat小知识：tomcat有线程在维护请求连接的接收，请求进来之后在worker线程池取线程处理请求







## 熔断

隔离可以统计成功了多少失败了多少，若失败太多次，说明现在有问题，执行完了再发现失败太浪费资源，就先不让worker线程执行，过段时间再试试，这就是熔断







## 降级

在需要熔断的场景，直接返回一个预定的错误，这个熔断后返回设定错误的过程就是降级

降级是降低服务质量，得能凑合用，不是不可用，要返回默认的兜底数据，不能返回空数据







## Hystrix

就是个try/catch，不过是AOP实现的