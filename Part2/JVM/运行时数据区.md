# 一、jvm运行时数据区
   1. 程序计数器（线程私有）
      1. 可以看做是字节码的行号指示器
      
      2. 每条线程都需要一个独立的程序计数器，互不影响，这块内存是线程私有的
   
   2. Java虚拟机栈(JVM Stack)（线程私有）
      1. 虚拟机栈是描述java方法执行的内存区域
      
      2. 每个方法执行的时候都会创建一个栈帧，里面存储局部变量表，操作栈，动态链接和方法出口等
         1. 局部变量表：存放方法参数和局部变量
         
         2. 操作栈：在方法执行过程中，会有各种指令往栈中写入和提取信息
   
   3. 本地方法栈（线程私有） 
      1. 与虚拟机栈功能基本相同，虚拟机栈执行的是java方法(字节码)，本地方法栈执行的是本地方法
   
   4. java堆（线程共享）
      1. 存放几乎所有的实例对象，是gc管理的主要区域，也称gc堆
      
      2. 逻辑上连续即可，不一定要物理上连续
      
      3. 分为两大块：新生代和老年代
         
         新生代=1个Eden区+2个Survivor区                                                                                                 
   
   5. 方法区（线程共享）      
      1. 方法区是堆的一个逻辑部分，存储class文件信息，包括已被虚拟机加载的类信息、常量、static变量、即时编译器编译后的代码等数据
      
      2. 运行时常量池
      
         1. Class文件中除了有类的版本、字段、方法、接口等描述等信息外，还有常量池，用于存放编译期生成的各种字面量和符号引用，这部分内容将在类加载后存放到方法区的运行时常量池中，所以运行时常量池也是每个类都有一个
         
         2. 运行时常量池相对于Class文件常量池的另外一个重要特征是具备动态性，就是并非预置如Class文件中常量池的内容才能进入方法区的运行时常量池，运行期间也可以将新的常量放入池中
      
# 二、内存溢出      

   1. StackOverflowError--方法调用太多次，导致栈内存不够新建栈帧
   
   2. OutOfMemoryError
   
      1. Java堆溢出
      
      2. 虚拟机栈和本地方法栈溢出
      
      3. 方法区溢出
      
# 三、虚拟机参数

   1. 虚拟机参数用来设置虚拟机启动时使用的堆、栈、方法区等的大小以及GC相关的参数，使用java -X可以查看已安装的java版本支持的-X参数
   
   2. 常用的有
     
      1. -Xms -> 设置初始java堆大小
      
      2. -Xmx -> 设置最大java堆大小
      
      3. -Xss -> 设置java线程堆栈大小
      
      4. -XX:MaxPermSize=64m -> 设置方法区大小，默认64m
      
      5. -XX:SurvivorRatio=8 -> 设置Eden区和Survivor的占比，默认8:1
      
      6. 举例：java -Xms512M -Xmx2G HelloWorld -> 表示为HelloWorld程序设置初始堆内存512M和最大堆内存2G，防止堆内存溢出
   
